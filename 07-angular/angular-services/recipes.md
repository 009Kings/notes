#Recipes

The main recipe that the injector needs to inject something into a module is called the **provider** recipe. However, on top of that, there are five other types of recipes which the injector uses to "cook" the dependency slightly differently. These recipes are:

1. **Factory** - the value returned by invoking the function reference
2. **Service** - the actual function reference
3. **Provider** - the value returned by invoking the $get method of the function reference
4. **Constant** - similar to a constant in other languages
5. **Value** - a literal value that can change

Each of these create a new object when they are used.

#### Services are Singletons

Angular [services](https://docs.angularjs.org/guide/services) (anything that can be injected as a dependency) are:

- **Lazily instantiated** – Angular only instantiates a service when it is needed
- **Singletons** – Each component dependent on a service gets a reference to the single instance generated by the service factory.

Once instantiated, unlike a controller, it persists throughout the lifetime of our app.

If your app needs data from an API or database, we probably don't want to keep loading that same data every time we change routes. Fetching that data once and holding it in a service makes a lot of sense.

Also, because services are persistent singletons, they provide a mechanism to share data between controllers.

### Factory vs service?

Factory and Service are the most commonly used recipes.  However, if factories and services are so similar, what's the difference? They look quite similar:

```javascript
angular.service('myService', myServiceFunction);
angular.factory('myFactory', myFactoryFunction);
```

**Service:**

...will be **renewed**, always creating a new object.

You should only make a service if you only ever need to and want to make one instance of it.  For example:

- A function that we want to wrap up in an object with a name so it's clear and useable to check whether a JWT token is acceptable & should be authorized or not
- A function to add Cross Origin Resource Sharing to our app, so an API can share JSON with any domain

**Factory:**

...will be invoked, which _can_ return an object.

It's possible to do the same things with both services and factories.

However, in some cases the factory gives you a little bit more flexibility because while the **service must always be an object**, the factory can be an object, a function reference, or any value at all.
